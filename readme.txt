== Установка/Обновление ==

<h3 style="text-align: center;">Установка:</h3>
Т.к. это дополнение для WordPress плагина <a href="https://codeseller.ru/groups/plagin-wp-recall-lichnyj-kabinet-na-wordpress/" target="_blank">WP-Recall</a>, то оно устанавливается через <a href="https://codeseller.ru/obshhie-svedeniya-o-dopolneniyax-wp-recall/" target="_blank"><strong>менеджер дополнений WP-Recall</strong></a>.

1. В админке вашего сайта перейдите на страницу "WP-Recall" -> "Дополнения" и в самом верху нажмите на кнопку "Обзор", выберите .zip архив дополнения на вашем пк и нажмите кнопку "Установить".
2. В списке загруженных дополнений, на этой странице, найдите это дополнение, наведите на него курсор мыши и нажмите кнопку "Активировать". Или выберите чекбокс и в выпадающем списке действия выберите "Активировать". Нажмите применить.


<h3 style="text-align: center;">Обновление:</h3>
Дополнение поддерживает <a href="https://codeseller.ru/avtomaticheskie-obnovleniya-dopolnenij-plagina-wp-recall/" target="_blank">автоматическое обновление</a> - два раза в день отправляются вашим сервером запросы на обновление.
Если в течении суток вы не видите обновления (а на странице дополнения вы видите что версия вышла новая), советую ознакомиться с этой <a href="https://codeseller.ru/post-group/rabota-wordpress-krona-cron-prinuditelnoe-vypolnenie-kron-zadach-dlya-wp-recall/" target="_blank">статьёй</a>




== Настройки ==
В админке имеется блок настроек: "WP-Recall" -> "Настройки" -> "Настройки Friends Recall"

Если вы используете дополнение FEED - то возможно "Подписывать при отказе в дружбе" и "Подписывать при удалении из друзей"

Имеется 4-ре варианта вывода списка друзей в ЛК: Списком, Карточкой, Мини карточкой, Аватаркой

И опция "Включать уведомления сайта"

<hr>

Имеется шорткод [frnd_online] - "друзья в сети"
- выводит друзей, которые были активны на сайте в течении последних 10-ти минут (активность WP-Recall). 
Сортировка по времени активности.

атрибуты шорткода:
<strong>title</strong> - заголовок виджета (по умолчанию "Друзья на сайте:")
<strong>not-online</strong> - сообщение когда друзей нет в сети (если не указать то блок "Друзья на сайте:" не выводится если никого нет в сети)
<strong>guest-text</strong> - сообщение выводимое незалогиненному пользователю (если не указать то блок "Друзья на сайте:" не выводится для гостей)

Пример:
<code>[frnd_online guest-text="Войдите на сайт и добавьте в друзья" not-online="Никого нет"]</code>


== Благодарности ==

Дополнение "Друзья" вышло в рамках <a href="https://codeseller.ru/project/dopolnenie-k-plaginu-wp-recall-druzya/">"Проектов"</a> сервиса CodeSeller.ru. Минимальный взнос участника составил: 200р.
Без финансовой помощи наших друзей - спонсоров данного проекта, мы бы не продвинулись в реализации. Спасибо им за финансовую помощь, поддержку и тестирование!

<strong>Спонсорами выступили:</strong>
[userlist template="mini" include="18914,19799,7692,19928,19544,1,5677,10241,6552,4462,17501,6814,18438"]

<a href="https://codeseller.ru/author/cereal007yandex-ru/">Александр</a> - 2000р.
<a href="https://codeseller.ru/author/grigorash37/">grigorash37</a> - 900р.
<a href="https://codeseller.ru/author/oldisbizgmail-com/">Sergio</a> - 700р.
<a href="https://codeseller.ru/author/samurhan/">Samurhan</a> - 500р.
<a href="https://codeseller.ru/author/photobalbes/">Photobalbes</a> - 300р.
<a href="https://codeseller.ru/author/admin/">Андрей CS</a> - 200р.
<a href="https://codeseller.ru/author/roman201315/">Roman</a> - 200р.
<a href="https://codeseller.ru/author/pbv66/">pbv66</a> - 200р.
<a href="https://codeseller.ru/author/aspirinka/">Максим</a> - 200р.
<a href="https://codeseller.ru/author/ulogin_vkontakte_249199347/">Шурик Шниперсон</a> - 200р.
<a href="https://codeseller.ru/author/litbesinbox-ru/">Litbes</a> - 200р.
<a href="https://codeseller.ru/author/liter-rm/">Liter-rm</a> - 200р.
<a href="https://codeseller.ru/author/denis-bitcoinauto/">Denis.BitcoinAuto</a> - 200р.

- вот так, команда из 13-ти человек помогла воплотить мечту многих пользователей. С помощью данного бесплатного дополнения они вывели WP-Recall на еще один уровень выше!



== Changelog ==
= 2019-07-30 =
v1.0
* Релиз


= 2019-07-30 =
v0.6
* кнопка "Добавить в друзья" теперь выводится у тех кого отправили в подписчики и у того на кого он подписан


= 2019-07-29 =
v0.5
* Интеграция с FEED



= 2019-07-12 =
v0.4
* Уведомления (настройка):
Если у вас включено дополнение <a href="https://codeseller.ru/products/rcl-notification-spisok-uvedomlenij-polzovatelya-v-lichnom-kabinete/" target="_blank">Rcl-Notification</a> -
 то о новом запросе в друзья пользователь узнает через его сообщение на сайте. 
Если же данный доп у вас на сайте не активирован - то при каждой загрузке страницы, если есть не принятые запросы в друзья, слева вверху будет всплывать нотис. 
Это более назойливое сообщение - поэтому пользователю, чтоб скрыть его, придется все входящие сообщения о дружбе обрабатывать (отказать или принять дружбу).



= 2019-07-11 =
v0.3
* Исправлены мелкие недочеты
* У шорткода "Друзья на сайте" появились новые атрибуты:
<strong>title</strong> - заголовок виджета (по умолчанию "Друзья на сайте:")
<strong>not-online</strong> - сообщение когда друзей нет в сети (если не указать то блок "Друзья на сайте:" не выводится если никого нет в сети)
<strong>guest-text</strong> - сообщение выводимое незалогиненному пользователю (если не указать то блок "Друзья на сайте:" не выводится для гостей)

Пример:
<code>[frnd_online guest-text="Войдите на сайт и добавьте в друзья" not-online="Никого нет"]</code>

* Отправляемое письмо о запросе в друзья теперь поддерживает функционал WP-Recall шаблонов. Шаблон mail-friend-offer.php
Работа с шаблонами описана тут: https://codeseller.ru/?p=11632
Ну и теперь на почту приходит симпатично оформленное письмо. 

* Добавлен новый шаблон вывода в вкладке друзей: mini-card (Мини карточкой)
настройка шаблонов и шаблоны были переименованы - поэтому обязательно зайти в настройки допа и заново выбрать опцию "Вариант вывода списка друзей в ЛК"


= 2019-07-10 =
v0.2
* Переименованы события вкладок когда нет друзей, нет входящих/исходящих заявок в друзья.

* К ним добавлены одноименные фильтры:
<code>apply_filters( 'frnd_you_not_friends', $data );</code> - данные вкладки "Друзья", для хозяина кабинета
где         
<pre>$data = [
    'type'   => 'info',
    'border' => true,
    'text'   => 'У вас пока нет друзей',
    'icon'   => 'fa-info-circle',
];</pre>
type - тип блока. Возможны значения: info, success, warning, simple
border - обводка блока true/false
text - текст внутри вкладки. Возможен html
icon - иконка слева внутри блока

А фильтр:
<code>apply_filters( 'frnd_not_friends', $data );</code> - данные вкладки "Друзья", для гостя (сообщение "Пока нет друзей")

<code>apply_filters( 'frnd_not_inc_friends', $data );</code> - данные вкладки "Входящие запросы в друзья"

<code>apply_filters( 'frnd_not_out_friends', $data );</code> - данные вкладки "Заявки в друзья: исходящие"

* кнопка "В друзья" в ЛК выводится раньше чем данные дополнения presents pro

* над ЛК нотис: "У вас 1 запрос в друзья!" - теперь это ссылка. Ведет через ajax сразу на вкладку "Входящие запросы в друзья"

* добавлена настройка позволяющая выбрать как выводить в ЛК список друзей. Вывод шаблонами: Списком (самый подробный), карточкой, аватаркой

* Кнопка "В друзья" добавлена в блок автора отдельной публикации

* Добавлен шорткод [frnd_online] - друзья в сети
Не имеет атрибутов. Выводит друзей, которые были активны на сайте в течении последних 10-ти минут (активность WP-Recall). 
Сортировка по времени активности.


= 2019-06-01 =
v0.1
* Release





== Прочее ==

* Поддержка осуществляется в рамках текущего функционала дополнения
* При возникновении проблемы, создайте соотвествующую тему на форуме поддержки товара
* Если вам нужна доработка под ваши нужды - вы можете обратиться ко мне в <a href="https://codeseller.ru/author/otshelnik-fm/?tab=chat" target="_blank">ЛС</a> с техзаданием на платную доработку.

Все мои работы опубликованы <a href="https://otshelnik-fm.ru/?p=2562&utm_source=free-addons&utm_medium=addon-description&utm_campaign=friends-recall&utm_content=codeseller.ru&utm_term=all-my-addons" target="_blank">на моём сайте</a> и в каталоге магазина <a href="https://codeseller.ru/author/otshelnik-fm/?tab=publics&subtab=type-products" target="_blank">CodeSeller.ru</a>
